{"version":3,"sources":["webpack:////Users/lixu/Desktop/github/goldRecovery/main.js","webpack:////Users/lixu/Desktop/github/goldRecovery/pages/group/group.vue?d107","webpack:////Users/lixu/Desktop/github/goldRecovery/pages/group/group.vue?2187","webpack:////Users/lixu/Desktop/github/goldRecovery/pages/group/group.vue?ec88","webpack:////Users/lixu/Desktop/github/goldRecovery/pages/group/group.vue?82cc","webpack:////Users/lixu/Desktop/github/goldRecovery/pages/group/group.vue","webpack:////Users/lixu/Desktop/github/goldRecovery/pages/group/group.vue?a6cd","webpack:////Users/lixu/Desktop/github/goldRecovery/pages/group/group.vue?dc5d"],"names":["createPage","Page","disp","require","isfirstTime","components","uniSwipeAction","data","member","rooms","focus","search_btn","search_chats","show_mask","yourname","unReadSpotNum","unReadNoticeNum","messageNum","unReadTotalNotNum","arr","show_clear","gotop","input_code","options","text","style","backgroundColor","onLoad","me","on","message","getChatList","getApp","globalData","unReadMessageNum","saveGroupInvitedList","length","saveFriendList","getRoster","onShow","queryUserIMGroupListFun","methods","getUserInfo","code","$wxhttp","post","url","userInfo","uni","getStorageSync","login","assistant_no","username","removeStorageSync","console","log","user_no","userName","setStorage","key","toLowerCase","$conn","open","apiUrl","$im","config","apiURL","user","pwd","grant_type","appKey","appkey","rosters","success","roster","i","subscription","push","listGroups","fire","error","err","conn","listRooms","array","concat","myName","newChatMsgs","name","historyChatMsgs","curChatMsgs","lastChatMsg","unReadCount","dateArr","time","split","timeArr","month","dateTimeNum","roomId","groupName","sort","a","b","into_chatRoom","item","detail","chatType","into_groupChatRoom","into_singleChatRoom","my","nameList","your","navigateTo","JSON","stringify","groupId","info","to","action_click","e","index","del_chat","currentPage","getCurrentPages","showModal","title","content","confirmText","res","confirm","setStorageSync","fail"],"mappings":"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","file":"pages/group/group.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/group/group.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./group.vue?vue&type=template&id=4d409403&\"\nimport script from \"./group.vue?vue&type=script&lang=js&\"\nexport * from \"./group.vue?vue&type=script&lang=js&\"\nimport style0 from \"./group.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('4d409403', component.options)\n    } else {\n      api.reload('4d409403', component.options)\n    }\n    module.hot.accept(\"./group.vue?vue&type=template&id=4d409403&\", function () {\n      api.rerender('4d409403', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/lixu/Desktop/github/goldRecovery/pages/group/group.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./group.vue?vue&type=template&id=4d409403&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./group.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./group.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport uniSwipeAction from \"@/comps/uni/uni-swipe-action/uni-swipe-action.vue\"\nlet disp = require(\"../../utils/broadcast\");\nlet isfirstTime = true\nexport default {\n\tcomponents: {\n\t\tuniSwipeAction\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tmember: [], //好友\n\t\t\trooms: [], //群组\n\t\t\tfocus: false,\n\t\t\tsearch_btn: true,\n\t\t\tsearch_chats: false,\n\t\t\tshow_mask: false,\n\t\t\tyourname: \"\",\n\t\t\tunReadSpotNum: 0,\n\t\t\tunReadNoticeNum: 0,\n\t\t\tmessageNum: 0,\n\t\t\tunReadTotalNotNum: 0,\n\t\t\tarr: [],\n\t\t\tshow_clear: false,\n\n\t\t\tgotop: false,\n\t\t\tinput_code: '',\n\n\t\t\toptions: [{\n\t\t\t\ttext: '删除',\n\t\t\t\tstyle: {\n\t\t\t\t\tbackgroundColor: 'rgb(255,58,49)'\n\t\t\t\t}\n\t\t\t}],\n\t\t}\n\t},\n\tonLoad() {\n\t\tlet me = this;\n\n\t\t//监听未读消息数\n\t\tdisp.on(\"em.xmpp.unreadspot\", function(message) {\n\t\t\tme.arr = me.getChatList();\n\t\t\tme.unReadSpotNum = getApp().globalData.unReadMessageNum > 99 ? '99+' : getApp().globalData.unReadMessageNum;\n\t\t});\n\n\t\t//监听未读加群“通知”\n\t\tdisp.on(\"em.xmpp.invite.joingroup\", function() {\n\t\t\tme.unReadNoticeNum = getApp().globalData.saveGroupInvitedList.length;\n\t\t\tme.unReadTotalNotNum = getApp().globalData.saveFriendList.length + getApp().globalData.saveGroupInvitedList.length\n\t\t});\n\n\t\tdisp.on(\"em.xmpp.contacts.remove\", function() {\n\t\t\tme.getRoster();\n\t\t});\n\t\tme.getRoster();\n\t},\n\tonShow() {\n\t\tthis.queryUserIMGroupListFun();\n\t},\n\tmethods: {\n\t\tasync getUserInfo(code) {\n\t\t\ttry {\n\t\t\t\tlet data = await this.$wxhttp.post({\n\t\t\t\t\turl: '/assistant/v1/getUserInfo',\n\t\t\t\t})\n\t\t\t\tif (data.code == 0) {\n\t\t\t\t\tlet userInfo = uni.getStorageSync(\"userInfo\");\n\t\t\t\t\tthis.login(userInfo.assistant_no, userInfo.username);\n\t\t\t\t} else {\n\t\t\t\t\tuni.removeStorageSync('token');\n\t\t\t\t\tuni.removeStorageSync('userInfo');\n\t\t\t\t}\n\n\t\t\t} catch (e) {\n\n\t\t\t}\n\t\t},\n\t\tasync queryUserIMGroupListFun(code) {\n\t\t\ttry {\n\t\t\t\tlet data = await this.$wxhttp.post({\n\t\t\t\t\turl: '/assistant/v1/queryUserIMGroupList',\n\t\t\t\t})\n\t\t\t\tconsole.log(data)\n\t\t\t} catch (e) {\n\n\t\t\t}\n\t\t},\n\t\tlogin(user_no, userName) {\n\t\t\tuni.setStorage({\n\t\t\t\tkey: \"myUsername\",\n\t\t\t\tdata: userName.toLowerCase()\n\t\t\t});\n\t\t\tthis.$conn.open({\n\t\t\t\tapiUrl: this.$im.config.apiURL,\n\t\t\t\tuser: user_no,\n\t\t\t\tpwd: \"111111\",\n\t\t\t\tgrant_type: \"password\",\n\t\t\t\tappKey: this.$im.config.appkey\n\t\t\t});\n\t\t},\n\t\tgetRoster() {\n\t\t\tlet me = this;\n\n\t\t\tlet rosters = {\n\t\t\t\tsuccess(roster) {\n\t\t\t\t\tvar member = [];\n\t\t\t\t\tfor (let i = 0; i < roster.length; i++) {\n\t\t\t\t\t\tif (roster[i].subscription == \"both\") {\n\t\t\t\t\t\t\tmember.push(roster[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tuni.setStorage({\n\t\t\t\t\t\tkey: \"member\",\n\t\t\t\t\t\tdata: member\n\t\t\t\t\t});\n\t\t\t\t\tconsole.log(\"好友\", member)\n\t\t\t\t\tme.member = member\n\t\t\t\t\tme.listGroups()\n\n\t\t\t\t\tdisp.fire(\"em.main.ready\");\n\t\t\t\t\tme.arr = me.getChatList();\n\t\t\t\t\tme.unReadSpotNum = getApp().globalData.unReadMessageNum > 99 ? '99+' : getApp().globalData.unReadMessageNum\n\t\t\t\t},\n\t\t\t\terror(err) {\n\t\t\t\t\tconsole.log(11, err);\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.$im.conn.getRoster(rosters);\n\t\t},\n\t\tlistGroups() {\n\t\t\tvar me = this;\n\t\t\treturn this.$im.conn.listRooms({\n\t\t\t\tsuccess: function(rooms) {\n\t\t\t\t\tuni.setStorage({\n\t\t\t\t\t\tkey: \"listGroup\",\n\t\t\t\t\t\tdata: rooms\n\t\t\t\t\t});\n\t\t\t\t\tconsole.log(\"群组\", rooms)\n\t\t\t\t\tme.rooms = rooms\n\t\t\t\t\tlet array = rooms.concat(me.member);\n\t\t\t\t\tconsole.log(\"群组\", array)\n\t\t\t\t\t// me.arr = array\n\t\t\t\t\tme.getChatList()\n\t\t\t\t},\n\t\t\t\terror: function(err) {\n\t\t\t\t\tconsole.log(err)\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tgetChatList() {\n\t\t\tvar array = [];\n\t\t\tvar member = uni.getStorageSync(\"member\");\n\t\t\tvar myName = uni.getStorageSync(\"myUsername\");\n\t\t\tvar listGroups = uni.getStorageSync('listGroup') || [];\n\n\t\t\tfor (let i = 0; i < member.length; i++) {\n\t\t\t\tlet newChatMsgs = uni.getStorageSync(member[i].name + myName) || [];\n\t\t\t\tlet historyChatMsgs = uni.getStorageSync(\"rendered_\" + member[i].name + myName) || [];\n\t\t\t\tlet curChatMsgs = historyChatMsgs.concat(newChatMsgs);\n\n\t\t\t\tif (curChatMsgs.length) {\n\t\t\t\t\tlet lastChatMsg = curChatMsgs[curChatMsgs.length - 1];\n\t\t\t\t\tlastChatMsg.unReadCount = newChatMsgs.length;\n\t\t\t\t\tif (lastChatMsg.unReadCount > 99) {\n\t\t\t\t\t\tlastChatMsg.unReadCount = \"99+\";\n\t\t\t\t\t}\n\t\t\t\t\tlet dateArr = lastChatMsg.time.split(' ')[0].split('-')\n\t\t\t\t\tlet timeArr = lastChatMsg.time.split(' ')[1].split(':')\n\t\t\t\t\tlet month = dateArr[2] < 10 ? '0' + dateArr[2] : dateArr[2]\n\t\t\t\t\tlastChatMsg.dateTimeNum = `${dateArr[1]}${month}${timeArr[0]}${timeArr[1]}${timeArr[2]}`\n\t\t\t\t\tlastChatMsg.time = `${dateArr[1]}月${dateArr[2]}日 ${timeArr[0]}时${timeArr[1]}分`\n\t\t\t\t\tarray.push(lastChatMsg);\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (let i = 0; i < listGroups.length; i++) {\n\t\t\t\tlet newChatMsgs = uni.getStorageSync(listGroups[i].roomId + myName) || [];\n\t\t\t\tlet historyChatMsgs = uni.getStorageSync(\"rendered_\" + listGroups[i].roomId + myName) || [];\n\t\t\t\tlet curChatMsgs = historyChatMsgs.concat(newChatMsgs);\n\t\t\t\tconsole.log(214, historyChatMsgs)\n\t\t\t\tif (curChatMsgs.length) {\n\t\t\t\t\tlet lastChatMsg = curChatMsgs[curChatMsgs.length - 1];\n\t\t\t\t\tlastChatMsg.unReadCount = newChatMsgs.length;\n\t\t\t\t\tif (lastChatMsg.unReadCount > 99) {\n\t\t\t\t\t\tlastChatMsg.unReadCount = \"99+\";\n\t\t\t\t\t}\n\t\t\t\t\tlet dateArr = lastChatMsg.time.split(' ')[0].split('-')\n\t\t\t\t\tlet timeArr = lastChatMsg.time.split(' ')[1].split(':')\n\t\t\t\t\tlet month = dateArr[2] < 10 ? '0' + dateArr[2] : dateArr[2]\n\t\t\t\t\tlastChatMsg.time = `${dateArr[1]}月${dateArr[2]}日 ${timeArr[0]}时${timeArr[1]}分`\n\t\t\t\t\tlastChatMsg.dateTimeNum = `${dateArr[1]}${month}${timeArr[0]}${timeArr[1]}${timeArr[2]}`\n\t\t\t\t\tlastChatMsg.groupName = listGroups[i].name\n\t\t\t\t\tarray.push(lastChatMsg);\n\t\t\t\t}\n\t\t\t}\n\t\t\tarray.sort((a, b) => {\n\t\t\t\treturn b.dateTimeNum - a.dateTimeNum\n\t\t\t})\n\t\t\tif (array.length < 1) {\n\n\t\t\t}\n\t\t\treturn array;\n\t\t},\n\t\tinto_chatRoom(item) {\n\t\t\tlet detail = item;\n\n\t\t\t//↓↓↓↓ 谁赞成谁反对?\n\t\t\t//群聊的chatType居然是singlechat？脏数据？ 等sdk重写后整理一下字段\n\t\t\tif (detail.chatType == 'groupchat' || detail.chatType == 'chatRoom' || detail.groupName) {\n\t\t\t\tthis.into_groupChatRoom(detail)\n\t\t\t} else {\n\t\t\t\tthis.into_singleChatRoom(detail)\n\t\t\t}\n\t\t},\n\n\t\t//\t单聊\n\t\tinto_singleChatRoom(detail) {\n\t\t\tvar my = uni.getStorageSync(\"myUsername\");\n\t\t\tconsole.log(detail)\n\t\t\tvar nameList = {\n\t\t\t\tmyName: my,\n\t\t\t\tyour: detail.username\n\t\t\t};\n\t\t\tuni.navigateTo({\n\t\t\t\turl: \"/minePage/IMone/IMone?username=\" + JSON.stringify(nameList)\n\t\t\t})\n\t\t},\n\n\t\t//\t群聊 和 聊天室 （两个概念）\n\t\tinto_groupChatRoom(detail) {\n\t\t\tvar my = uni.getStorageSync(\"myUsername\");\n\t\t\tvar nameList = {\n\t\t\t\tmyName: my,\n\t\t\t\tyour: detail.groupName,\n\t\t\t\tgroupId: detail.info.to\n\t\t\t};\n\t\t\tconsole.log(\"群聊\")\n\t\t\tuni.navigateTo({\n\t\t\t\turl: \"/minePage/IMmore/IMmore?username=\" + JSON.stringify(nameList)\n\t\t\t})\n\t\t},\n\n\t\taction_click(e, item) {\n\t\t\tswitch (e.index) {\n\t\t\t\tcase 2:\n\t\t\t\t\tthis.del_chat(item);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\tdel_chat(item) {\n\t\t\tlet detail = item;\n\t\t\tlet nameList;\n\t\t\tif (detail.chatType == 'groupchat' || detail.chatType == 'chatRoom') {\n\t\t\t\tnameList = {\n\t\t\t\t\tyour: detail.info.to\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tnameList = {\n\t\t\t\t\tyour: detail.username\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tvar myName = uni.getStorageSync(\"myUsername\");\n\t\t\tvar currentPage = getCurrentPages();\n\t\t\tuni.showModal({\n\t\t\t\ttitle: \"\",\n\t\t\t\tcontent: \"删除该聊天记录?\",\n\t\t\t\tconfirmText: \"删除\",\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\tuni.setStorageSync(nameList.your + myName, \"\");\n\t\t\t\t\t\tuni.setStorageSync(\"rendered_\" + nameList.your + myName, \"\");\n\t\t\t\t\t\tif (currentPage[0]) {\n\t\t\t\t\t\t\tcurrentPage[0].onShow();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdisp.fire(\"em.chat.session.remove\");\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail: function(err) {}\n\t\t\t});\n\t\t},\n\n\t}\n}\n","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./group.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./group.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}